# Курсовая работа. ПП «Туристическое агентство. Клиенты, продажи»
Приложение для автоматизации работы туристического агентства: учёт клиентов, туров и заявок, расчёт стоимости, контроль документов и сохранение данных в JSON.

## Возможности

### Клиенты
- Добавление, редактирование и удаление клиентов.
- Данные: ФИО, телефон, email, дата рождения, комментарии.
- Быстрый поиск по ФИО, телефону и email (подстрока, без учёта регистра).
- История заявок по выбранному клиенту.

### Туры
- Добавление и редактирование туров.
- Данные тура: название, страна, тип тура, даты, длительность, базовая цена.
- Признаки: внутренний/зарубежный тур, необходимость визы.
- **Способы поездки** (например, самолёт, поезд) — список доступных вариантов на уровне тура.

### Заявки (продажи)
- Создание заявки с привязкой к клиенту и туру.
- Статусы: черновик, оформлена, оплачена, отменена.
- **Режим поездки** (выбирается из доступных в туре).
- **Класс поездки** (зависит от режима поездки):
  - поезд → купе/плацкарт;
  - самолёт → эконом/бизнес/первый класс.

### Туристы
- Взрослые: добавление по ФИО.
- Дети: добавление с указанием даты рождения и автоматическим расчётом возраста.

### Животные
- Добавление животных в заявку: тип, вес, способ перевозки.
- Валидация: обязательные поля и вес > 0.

### Документы
- Автогенерация списка документов по составу заявки:
  - внутренний паспорт, загранпаспорт, виза, свидетельство о рождении,
    согласие на выезд ребёнка, ветеринарный паспорт.
- Статусы: отсутствует/имеется/проверен.
- Проверка наличия обязательных документов и предупреждения.

### Автоматизация
- Расчёт стоимости: взрослые (100%), дети (скидка 50%), животные (доплата 1000 руб + 5 руб/кг).
- Автоматическое обновление списка документов при изменении туристов/животных.
- Предупреждения о некорректном вводе (например, пустая дата рождения ребёнка).

---

## Структура проекта

```
turism_project/
├── agency.h, agency.cpp           — модель и бизнес-логика
├── agency_types.h                 — общие перечисления (статусы, типы документов)
├── travel_agency.h, .cpp          — хранилища, CRUD, поиск, сохранение/загрузка
├── tour_request.h, .cpp           — заявка, расчёт стоимости, документы
├── tour.h, .cpp                   — туры и параметры поездки
├── client.h, .cpp                 — клиенты
├── tourist.h, .cpp                — туристы (взрослые/дети)
├── animal.h, .cpp                 — животные
├── document.h, .cpp               — документы
├── mainwindow.h, .cpp, .ui         — GUI (Qt)
├── main.cpp
├── tests/tests.cpp                — тестовые случаи
├── CMakeLists.txt
└── README.md
```

---

## Основные классы

| Класс | Назначение |
|-------|------------|
| `Client` | Клиент: ФИО, телефон, email, дата рождения, комментарии |
| `Tour` | Тур: название, страна, тип, даты, цена, внутренний/виза, способы поездки |
| `TourRequest` | Заявка: клиент, тур, статус, режим/класс поездки, туристы, животные, документы, стоимость |
| `Tourist` | Базовый класс туриста |
| `AdultTourist` | Взрослый турист |
| `ChildTourist` | Ребёнок с датой рождения |
| `Animal` | Животное: тип, вес, способ перевозки |
| `Document` | Документ: тип и статус |
| `TravelAgency` | Логика приложения: CRUD, поиск, история заявок, сохранение/загрузка |

---

## Сборка и запуск

- **Сборка:** Qt Creator или `cmake --build build`
- **Запуск приложения:** `turism_project` (или через Qt Creator)
- **Запуск тестов:** `ctest -C Debug -R turism_project_tests` или `./turism_project_tests` в каталоге сборки

---

## Файл данных

По умолчанию данные сохраняются в `agency_data.json` (путь можно изменить на вкладке «Файл»).

---

*Курсовая работа. ПП «Туристическое агентство. Клиенты, продажи». C++, Qt, ООП.*

